<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NFT Viewer</title>
  <style>
    body { background: #000; color: #fff; font-family: sans-serif; text-align: center; padding: 30px; }
    video { max-width: 90vw; max-height: 60vh; border-radius: 12px; }
    ul { list-style: none; padding: 0; }
    li { margin: 5px 0; }
  </style>
</head>
<body>
  <div id="viewer">Loading...</div>
  <script>
    const id = new URLSearchParams(location.search).get('id');
    fetch('nfts.json')
      .then(res => res.json())
      .then(nfts => {
        const nft = nfts.find(n => n.id === id);
        if (!nft) return document.body.innerHTML = 'NFT not found';
        document.title = nft.name;
        document.getElementById('viewer').innerHTML = `
          <h1>${nft.name}</h1>
          <video src="${nft.media.animation_url}" autoplay loop muted controls></video>
          <p>${nft.description}</p>
          <ul>
            ${nft.attributes.map(attr => `<li><strong>${attr.trait_type}:</strong> ${attr.value}</li>`).join('')}
          </ul>
          <p><a href="${nft.media.viewer_html}" target="_blank">🔗 عرض تفاعلي</a></p>
          <p><a href="index.html">← العودة إلى المعرض</a></p>
        `;
      });
  </script>
</body>
</html>
